<div class="master-details">
  <mat-toolbar>
    <div class="toolbar-items">
      <span>
        People Master Details Pages
      </span>
      <div class="actions">
        <button mat-raised-button color="primary" (click)="onGoToCreatePage()">
          <mat-icon>person_add</mat-icon> Add
        </button>
      </div>
    </div>

  </mat-toolbar>

  <ng-container *ngIf="people.length > 0">
    <div class="cards-container">
      <div class="card" *ngFor="let person of people; trackBy: trackByFn">
        <mat-card>
          <div *ngIf="!person.editing" [@fade] class="data-view">
            <div class="edit-icon"><button mat-mini-fab color="secondary" (click)="onToggleEdit(person)"><mat-icon>edit</mat-icon></button></div>
            <mat-card-header>
              <mat-card-title>{{person?.firstName}} {{person?.lastName}}</mat-card-title>
              <mat-card-subtitle>title: {{person?.title}} </mat-card-subtitle>
              <mat-card-subtitle>email: {{person?.email}} </mat-card-subtitle>
              <mat-card-subtitle>primary phone: {{person?.phone[0]}} </mat-card-subtitle>
            </mat-card-header>

            <mat-card-content>
              <div class="expandable-table" *ngIf="person.expanded" [@fade]>
                <table class="card-table">
                  <tr>
                    <td class="label">age: </td>
                    <td>{{person?.age}}</td>
                  </tr>
                  <tr>
                    <td class="label">other: </td>
                    <td>{{person?.other}}</td>
                  </tr>
                  <tr>
                    <td class="label">company: </td>
                    <td>{{person?.company}}</td>
                  </tr>
                  <tr>
                    <td class="label">phone: </td>
                    <td>
                      <div *ngFor="let phoneNumber of person.phone; trackBy: trackByFn">
                        {{phoneNumber}}
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td class="label">address: </td>
                    <td>
                      <div>
                        {{person?.address}}
                      </div>
                      <div>
                        {{person?.address2}}
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td class="label">city: </td>
                    <td>{{person?.city}}</td>
                  </tr>
                  <tr>
                    <td class="label">state: </td>
                    <td>{{person?.state}}</td>
                  </tr>
                  <tr>
                    <td class="label">zip: </td>
                    <td>{{person?.zipCode}}</td>
                  </tr>

                </table>
              </div>
            </mat-card-content>
            <div class="expand-collapse">
              <button mat-mini-fab color="primary" (click)="onToggleExpanded(person)">
                <mat-icon *ngIf="!person.expanded">expand_more</mat-icon>
                <mat-icon *ngIf="person.expanded">expand_less</mat-icon>
              </button>
            </div>
          </div>
          <div class="edit-view" *ngIf="person.editing" [@fade]>
            <app-inline-form *ngIf="person.editing" [person]="person" [@fade]></app-inline-form>
          </div>
        </mat-card>

      </div>
    </div>
  </ng-container>
  <ng-container *ngIf="people.length === 0">
    <div class="no-people">
      <div>
        You have no people in your list would you like to add one?
      </div>
      <button mat-raised-button color="primary"><mat-icon>person_add</mat-icon> Add</button>
    </div>
  </ng-container>

</div>
